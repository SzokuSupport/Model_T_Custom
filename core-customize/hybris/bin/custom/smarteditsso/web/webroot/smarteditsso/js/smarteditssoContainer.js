!function(e){var t={};function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)__webpack_require__.d(n,r,function(t){return e[t]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=8)}([function(e,t){e.exports=smarteditcommons},function(e,t,n){var r={"./services/abAnalyticsService.js":2,"./templates.js":3};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=1},function(e,t){angular.module("abAnalyticsServiceModule",[]).service("abAnalyticsService",["$q",function(e){this.getABAnalyticsForComponent=function(){return e.when({aValue:30,bValue:70})}}])},function(e,t){},function(e,t,n){var r={"./abAnalyticsToolbarItem/abAnalyticsToolbarItem.js":5,"./ssoContainer.js":6,"./templates.js":7};function webpackContext(e){var t=webpackContextResolve(e);return n(t)}function webpackContextResolve(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}webpackContext.keys=function webpackContextKeys(){return Object.keys(r)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id=4},function(e,t){angular.module("abAnalyticsToolbarItemModule",["smarteditssoContainerTemplates"]).component("abAnalyticsToolbarItem",{templateUrl:"abAnalyticsToolbarItemTemplate.html"})},function(e,t){angular.module("ssoContainerModule",["authenticationInterfaceModule","functionsModule","smarteditCommonsModule","resourceLocationsModule","modalServiceModule","ui.bootstrap","yLoDashModule"]).factory("authenticationService",["$q","$injector","$log","sanitize","AuthenticationServiceInterface","LANDING_PAGE_PATH","DEFAULT_AUTHENTICATION_ENTRY_POINT","DEFAULT_AUTH_MAP","DEFAULT_CREDENTIALS_MAP","gatewayProxy","sharedDataService","storageService","crossFrameEventService","EVENTS","getQueryString","convertToArray","copy","merge","isBlank","extend","lodash",function(e,t,n,r,o,i,a,u,s,c,l,p,d,h,f,_,b,m,g,y,w){var v=function(){this.reauthInProgress={},this.gatewayId="authenticationService",c.initForService(this)};return v=y(o,v),o.prototype._launchAuth=function(o){return t.get("languageService").isInitialized().then(function(){return p.isInitialized().then(function(i){return t.get("modalService").open({cssClasses:"se-login-modal",templateUrl:"loginDialog.html",controller:["modalManager",function(u){u.setShowHeaderDismiss(!1),this.initialized=i,this.auth={username:"",password:""},this.authURI=o.authURI,p.removeAuthToken(this.authURI),this.authURIKey=btoa(this.authURI).replace(/=/g,""),this.submit=function(i){var s=e.defer();if(i.posted=!0,i.errorMessage="",i.failed=!1,i.$valid){var c=b(o.clientCredentials||{});c.username=this.auth.username,c.password=this.auth.password,c.grant_type="password",t.get("$http")({method:"POST",url:this.authURI,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:f(c).replace("?","")}).then(function(e){var r=a===this.authURI;p.storeAuthToken(this.authURI,e.data),n.debug(["API Authentication Success: ",this.authURI," status: ",e.status].join(" ")),t.get("sessionService").hasUserChanged().then(function(e){u.close({userHasChanged:e}),r&&t.get("sessionService").setCurrentUsername(),s.resolve({userHasChanged:e})},function(e){n.error("Issue with sessionService.hasUserChanged(): "+e),s.reject(e)})}.bind(this),function(e){n.debug(["API Authentication Failure: ",this.authURI," status: ",e.status].join(" ")),i.errorMessage=e.data&&r(e.data.error_description)||"se.logindialogform.oauth.error.default",i.failed=!0,s.reject()}.bind(this))}else i.errorMessage="se.logindialogform.username.and.password.required",s.reject();return s.promise}}]})})})},o.prototype.filterEntryPoints=function(e){return l.get("authenticationMap").then(function(t){return t=m(t||{},u),_(t).filter(function(t){return new RegExp(t.key,"g").test(e)}).map(function(e){return e.value})})},o.prototype.isAuthEntryPoint=function(e){return l.get("authenticationMap").then(function(t){return _(t).map(function(e){return e.value}).indexOf(e)>-1||e===a})},o.prototype._findAuthURIAndClientCredentials=function(e){return this.filterEntryPoints(e).then(function(e){return l.get("credentialsMap").then(function(t){t=angular.extend(t||{},s);var n=e[0];return{authURI:n,clientCredentials:t[n]}})})},o.prototype.authenticate=function(n){return this._findAuthURIAndClientCredentials(n).then(function(n){return this._launchAuth(n).then(function(r){d.publish(h.AUTHORIZATION_SUCCESS,{userHasChanged:r.userHasChanged}).finally(function(){(r.userHasChanged?d.publish(h.USER_HAS_CHANGED):e.when()).then(function(){var e=w.values(this.reauthInProgress).some(function(e){return e});r.userHasChanged&&!e&&t.get("$route").reload()})}.bind(this)),this.reauthInProgress[n.authURI]=!1}.bind(this))}.bind(this))},o.prototype.logout=function(){return d.publish(h.LOGOUT,{}).finally(function(e){e.removeAllAuthTokens();var t=new Date(0).toUTCString();document.cookie="SmarteditSSOToken=; path=/; expires="+t,n.info("-----------------sso redirect to idp logout---------------");var r=window.location,o=r.protocol+"//"+r.hostname+(r.port?":"+r.port:"");window.location.href=o+"/oidcsinglesignon/openid/logout"}.bind(this,p))},o.prototype.isReAuthInProgress=function(t){return e.when(!0===this.reauthInProgress[t])},o.prototype.setReAuthInProgress=function(t){return this.reauthInProgress[t]=!0,e.when()},o.prototype.isAuthenticated=function(e){return this.filterEntryPoints(e).then(function(e){var t=e&&e[0];return p.getAuthToken(t).then(function(e){return!!e})})},new v}])},function(e,t){angular.module("smarteditssoContainerTemplates",[]).run(["$templateCache",function(e){"use strict";e.put("web/features/smarteditssoContainer/abAnalyticsToolbarItem/abAnalyticsToolbarItemTemplate.html","<h2>AB Analytics</h2>\n<p>This is a dummy toolbar item used to demonstrate functionality.</p>\n"),e.put("web/features/smarteditssoContainer/abAnalyticsToolbarItem/abAnalyticsToolbarItemWrapperTemplate.html","<ab-analytics-toolbar-item></ab-analytics-toolbar-item>")}])},function(e,t,n){"use strict";function importAll(e){e.keys().forEach(function(t){e(t)})}n.r(t);var r=n(0);n.d(t,"SmarteditssoContainer",function(){return i});var o=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function doImport(){importAll(n(1)),importAll(n(4))}();var i=function(){function SmarteditssoContainer(){}return SmarteditssoContainer=o([Object(r.SeModule)({imports:["ssoContainerModule"],initialize:function(){"ngInject"}})],SmarteditssoContainer)}()}]);